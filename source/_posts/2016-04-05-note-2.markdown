---
layout: post
title: "2A-note"
date: 2016-04-05 18:59:16 +0800
comments: true
categories: [Android]
---

# 2A_笔记

## how to build layouts
- step1: select views
- step2: position views
- step3: style views

## 添加按钮监听
###activity_main.xml修改代码
- Button   添加属性 
android:onClick="submitOrder"
android:onClick="increment"
android:onClick="descrement"

- TextView 添加属性 
android:id="quantity_text_view"

###MainActivity.java修改代码
 
- MainActivity添加[(代码)](https://gist.github.com/anonymous/b335094aa30f5866f219)
```java 实现点击按钮，id为quantity_text_view的textView值改变
    public void submitOrder(View view) {
        display(1);
    }

  
    private void display(int number) {
        TextView quantityTextView = (TextView) findViewById(
                R.id.quantity_text_view);
        quantityTextView.setText("" + number);
    }
```
- MainActivity添加[(代码)](https://gist.github.com/anonymous/fa134c55a4a43e8d6004)
```java 实现实现点击按钮，id为price_text_view的textView值改变
    private void displayPrice(int number) {
       TextView priceTextView = (TextView) findViewById(R.id.price_text_view);
       priceTextView.setText(NumberFormat.getCurrencyInstance().format (number));
    }
```
- MainActivity添加代码
```java 实现点击按钮，id为quantity_text_view的textView值增加或减少
   public void increment(View view) {

        numberOfCoffees++;
        display(numberOfCoffees);
    }
    public void descrement(View view) {
        numberOfCoffees --;
        display(numberOfCoffees);
    }
  
```
- NumberFormat类用于格式化价格
- 设置自动导入包 file->setting->auto impor

##java知识
**局部变量与全局变量**

- 局部变量只作用于方法体内，外部方法无法访问
- 全局变量作用于整个类内，任何方法都可以访问，但是如果其他方法有声明了与其同名的局部变量，则全局变量的值被覆盖

**在这个程序中变量应设置为全局变量，因为它需要被各个方法访问，实时更新订购数量，从而计算出价格**

##最终代码
```xml activity_main.xml
   <?xml version="1.0" encoding="utf-8"?>
  <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@drawable/images"
    android:paddingBottom="@dimen/activity_vertical_margin"
    android:paddingLeft="@dimen/activity_horizontal_margin"
    android:paddingRight="@dimen/activity_horizontal_margin"
    android:paddingTop="@dimen/activity_vertical_margin">

    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"

        android:layout_marginTop="200dp"
        android:orientation="vertical">

        <TextView
            android:id="@+id/quantity_text"
            android:layout_width="wrap_content"

            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            android:text="quantity: "
            android:textAllCaps="true"
            android:textSize="20sp" />
        　　

        <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentRight="true"
            android:layout_below="@id/quantity_text">

            <Button
                android:layout_width="36dp"
                android:layout_height="36dp"
                android:layout_marginBottom="16dp"
                android:gravity="center"
                android:onClick="increment"
                android:text="+" />

            <TextView
                android:id="@+id/quantity_text_view"
                android:layout_width="36dp"

                android:layout_height="36dp"
                android:layout_marginBottom="16dp"
                android:gravity="center"
                android:text="0"
                android:textAllCaps="true"
                android:textSize="16sp" />

            <Button
                android:layout_width="36dp"
                android:layout_height="36dp"
                android:layout_marginBottom="16dp"
                android:gravity="center"
                android:onClick="descrement"
                android:text="-" />
        </LinearLayout>


        <TextView

            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            android:text="price: "
            android:textAllCaps="true"
            android:textSize="16sp" />

        <TextView
            android:id="@+id/price_text_view"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="0"
            android:textAllCaps="true"
            android:textSize="16sp" />

        <Button
            android:layout_width="108dp"
            android:layout_height="wrap_content"
            android:onClick="submitOrder"
            android:text="order"
            android:textAllCaps="true"
            android:textSize="16sp" />
    </LinearLayout>


</RelativeLayout>

  
```

```java MainActivity
   package com.sj.coffee;

import android.app.Activity;

import android.os.Bundle;
import android.view.View;
import android.widget.TextView;

import java.text.NumberFormat;

public class MainActivity extends Activity {


    int numberOfCoffees = 0;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }

    public void submitOrder(View view) {
        display(numberOfCoffees);
        displayPrice(numberOfCoffees * 5);
    }

    public void increment(View view) {

        numberOfCoffees++;
        display(numberOfCoffees);
       // displayPrice(numberOfCoffees * 5);
    }
    public void descrement(View view) {
        numberOfCoffees --;
        display(numberOfCoffees);
       // displayPrice(numberOfCoffees * 5);
    }
    /**
     * This method displays the given quantity value on the screen.
     */
    private void display(int number) {

        TextView quantityTextView = (TextView) findViewById(
                R.id.quantity_text_view);
        quantityTextView.setText("" + number);
    }

    private void displayPrice(int number) {
        TextView priceTextView = (TextView) findViewById(R.id.price_text_view);
        priceTextView.setText(NumberFormat.getCurrencyInstance().format (number));
    }
}

  
```

##最终效果图





